<style>
    .modal-backdrop {
        z-index: -1;
    }

    #newSurveyModal {
        top: 30%;
        right: 15%;
        outline: none;
    }

    .surveyGrid {
        width: 500px;
        height: 250px;
      }
</style>

    <h3>Surveys</h3>
    <fieldset>
        <legend>Filter</legend>
        <label for="">Broker</label>
        <select ng-options="broker as broker.BrokerName for broker in brokers" ng-model="surveyFilterBrokerNo">
            <option value="">-All-</option>
        </select>
        <label for="">Survey Status</label>
        <select ng-model="surveyFilter.ResponseStatusId">
            <option value="">-All-</option>
            <!--<option value="1">Archived</option>-->
            <option value="2">Broker-Deleted</option>
            <option value="3">Complete</option>
            <option value="4">In-Progress</option>
            <option value="5">Validated</option>
        </select>
        <label for=""><a title="Help" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Select a Client from the list">Client</a></label>
        <input type="text" ng-model="surveyFilter.ClientName">
        <button class="btn btn-default" value="{{isFiltering ? 'searching...' : 'Apply Filter'}}" ng-click="filterSurvey(surveyFilter)" ng-disabled="isSubmitting">Apply Filter</button>
        <button>Clear Filter</button>
    </fieldset>
    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#newSurveyModal">New Survey</button>

    <div class="row">
        <div ng-repeat="survey in surveys" class="col-sm-6">
            <h3><a ng-href="#/surveys/{{survey.ResponseId}}">{{survey.OrganizationName}}</a></h3>
            <h5>Created on {{survey.CreatedOn | date:'MM/dd/yyyy'}}</h5>
        </div>
    </div>
    <div ui-grid="{ data: surveys }" class="surveyGrid"></div>
    <div ng-init="startType = 0" class="modal fade" id="newSurveyModal" tabindex="-1" role="dialog" aria-labelledby="newSurveyModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="newSurveyModalLabel">Start a New Survey</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <h5>Welcome to the Survey</h5>
                        <div class="radio">
                            <label><input type="radio" ng-model="startType" name="startType" value="0">Start a survey for a new client</label>
                        </div>
                        <div class="radio">
                            <label><input type="radio" ng-model="startType" name="startType" value="1">Start a new survey with an existing client (load last year's data if available )</label>
                        </div>
                        <div class="form-group" ng-show="startType == 1">
                            <label for=""><!--<input type="checkbox" ng-model="checkLoad" ng-checked="true"> Load last year's data if available--></label><br />
                            <label for="">Client  </label>
                            <select ng-init="clientResponse = clientResponse || options[0]"
                                    ng-options="client as client.Name for client in clients" ng-model="slientList">
                                <option value="" selected>-Select a client-</option>
                            </select>
                        </div>
                        <!-- <a class="btn btn-default" href="#/surveys/new">New Survey</a> -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" ng-click="startSurvey(startType, slientList.ResponseId)" data-dismiss="modal" data-backdrop="false">New Survey</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        $('#newSurveyModal').on('shown.bs.modal', function () {
            $('#myInput').focus()
        })
        $("[data-toggle=popover]").popover();
    </script>
